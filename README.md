## 🔮 人生 K 线（Life Destiny K-Line）

**基于八字命理 + K 线可视化 + AI 大模型的人生命运可视化工具。**  
输入公历生日、出生时间、出生地点与性别，系统自动排出生辰八字与大运，并通过 AI 生成 1–100 岁的人生 K 线图和详细命理报告。

代码仓库：[`https://github.com/wjlkkk/lifekline`](https://github.com/wjlkkk/lifekline)

---

## ✨ 核心功能

- **自动排盘**
  - 只需输入公历生日、具体时间、出生城市、性别
  - 自动计算年柱、月柱、日柱、时柱以及第一步大运、起运年龄

- **人生 K 线图**
  - 使用 K 线图方式展示 1–100 岁每一年的运势起伏
  - 绿色 K 线代表运势向上（吉），红色代表运势回落（凶）
  - 自动标记全盘最高运势年份（人生“巅峰年”）

- **AI 命理报告**
  - **命理总评**：整体现实/潜力评估
  - **性格分析**
  - **事业行业 / 发展方向**
  - **财富运势**
  - **婚姻情感**
  - **健康状况**
  - **六亲关系**
  - **发展风水建议**

- **币圈 / Web3 运势**
  - 专门的“币圈交易运势”板块
  - 暴富流年、适合的交易风格（现货 / 合约 / 链上 Alpha 等）

- **多种使用方式**
  - **免 API 模式**：生成提示词 → 丢给任意 AI → 把 JSON 结果粘贴回来
  - **直连 API 模式**：在表单中填写 `API Base URL`、`API Key`、模型名称，前端直接请求你的大模型服务

---

## 🧩 使用流程概览

### 1. 自动排盘（推荐入口）

- 在首页中部的卡片里，使用 **“自动排盘”** 区域：
  - **姓名**（可选）
  - **性别**：乾造（男）/ 坤造（女）
  - **出生日期（公历）**：选择年月日
  - **出生时间**：精确到小时
  - **出生地点**：下拉选择常见城市（默认北京时间）
- 点击 **“自动排盘”** 按钮：
  - 系统会自动计算：年柱、月柱、日柱、时柱
  - 自动推算：第一步大运、起运年龄
  - 下方会展示排盘结果，确认无误后进入下一步

### 2. 通过 AI 生成 JSON（免 API 模式）

- 在 **“导入模式（ImportDataMode）”** 区块：
  1. 第一步：输入或自动排盘得到四柱和大运信息  
  2. 点击下一步，自动生成一段 **中文 + 结构化要求** 的提示词  
  3. **复制完整提示词**，粘贴到任意 AI 工具（ChatGPT / Claude / Gemini / 通义 / 文心等）  
  4. 等待 AI 返回一段 JSON（包含 `bazi`、各项分析、`chartPoints` 100 条流年 K 线数据）  
  5. 在第三步页面，将 AI 返回的 JSON 粘贴回输入框并点击 **“生成人生 K 线”**

### 3. 直连大模型 API（有自己模型时使用）

- 在右侧或下方的表单中（`BaziForm`）：
  - 填写：姓名、性别、公历出生信息、大运信息  
  - 在 **模型接口设置** 区域填入：
    - `modelName`：例如 `gpt-4.1`、`gemini-2.0-pro` 等  
    - `apiBaseUrl`：你的代理 / 网关地址，例如 `https://api.openai.com/v1`  
    - `apiKey`：你的密钥（前端存有泄露风险，请谨慎使用）  
  - 点击 **“生成人生K线”**，前端会请求你的大模型服务，返回 JSON 并直接渲染图表和分析  
  - 当 `apiKey` 填写为 `demo` 时，会使用本地 `mock-data.json` 进行演示，不调用任何外部接口

---

## 🧪 本地启动

```bash
# 安装依赖
npm install

# 启动开发服务器（默认 http://localhost:5173）
npm run dev

# 构建生产版本
npm run build
```

---

## 🛠️ 技术栈

- **框架**：React 19 + TypeScript
- **构建工具**：Vite
- **样式**：Tailwind CSS
- **图表库**：Recharts（实现人生运势 K 线图）
- **图标库**：lucide-react
- **AI 调用**：自定义 `fetch` 到任意兼容 OpenAI API 的服务

---

## 🚀 部署

### Vercel 一键部署（示例）

你可以将仓库 `wjlkkk/lifekline` 直接导入 Vercel：

1. 登录 Vercel  
2. 选择 **“Import Git Repository”**  
3. 填写仓库地址：`https://github.com/wjlkkk/lifekline`  
4. 框架选择 **Vite / React**  
5. 保持默认构建命令：`npm run build`，输出目录：`dist`  
6. 部署完成后即可在线访问

也可以使用 Vercel 的按钮（可按需修改）：

```md
[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/wjlkkk/lifekline)
```

---

## 📸 页面预览

![人生流年大运K线图](assets/1.png)  
*图 1：人生流年大运 K 线走势图*

![详细分析报告](assets/2.png)  
*图 2：命理分析、币圈运势与风水建议卡片*

---

## ⚠️ 免责声明

- **本项目仅供娱乐与传统文化研究使用，请勿迷信。**  
- 所有分析结果均为模型基于文本规则生成，不构成任何现实中的投资、医疗、法律或人生决策建议。  
- 命运在手中，工具只是辅助；请理性看待结果，真正改变人生的还是你的选择与行动。
